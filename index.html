<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title></title>
<link href="images/favicon.ico" rel="icon" type="image/x-icon" />
<link rel="stylesheet" href="demo/base.css" type="text/css">
<link rel="stylesheet" href="demo/style.css" type="text/css">
<link rel="stylesheet" href="dist/jquery.imageUpload.min.css" type="text/css">
<script type="text/javascript" src="dist/lib/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="dist/jquery.imageUpload.min.js"></script>
<script type="text/javascript" src="plugins/jquery.dragsort-0.5.2.js"></script>
<script>
$(function(){
	$("#imgUpload").imageUpload({
		uploadUrl: "${ctx}/home/gallery/uploadImage",
		uploadName: "file",
		selectMax: 7,
		fileMax: 7,
		imageInputName: "imagePath",
		description: {
			descInputName: "description"
		},
		data: {
			imageData: [
				{
					namespace: "",
					path: "demo/images/c1.jpg"
				},
				{
					namespace: "",
					path: "demo/images/c2.jpg"
				}
			]
		},
		uploadSuccess: function($element, $content, $li){
			$content.find('.img-list').dragsort("destroy");
			$content.find('.img-list').dragsort({
				dragSelector: "li .drag-wrapper",
				placeHolderTemplate: "<li class='placeHolder'></li>",
				dragSelectorExclude: "input, textarea, select"
			});
		}
	});
	
	$('.upload-image .img-list').dragsort("destroy");
	$('.upload-image .img-list').dragsort({
		dragSelector: "li .drag-wrapper",
		placeHolderTemplate: "<li class='placeHolder'></li>",
		dragSelectorExclude: "input, textarea, select"
	});
	
})
</script>
</head>

<body>
<div class="body bg-body">
    <div class="container">
        <div class="main-header">
            <h1>图片上传</h1>
        </div>
        <div class="main-content">
            <form id="page-form" class="page-form margintop15" action="#" method="post">
                <div class="row">
                    <div id="imgUpload"></div>
                </div>
                <div class="row">
                    <button class="button btn-green btn-width-md" type="submit"><i class="bek-icon-up-bold"></i> 上传</button>
                </div>
            </form>
        </div>
    </div>
</div>

</body>
</html>
